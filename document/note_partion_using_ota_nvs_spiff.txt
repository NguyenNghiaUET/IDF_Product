# Name,      Type, SubType, Offset,   Size,     Flags
nvs,         data, nvs,     0x9000,   0x6000,
otadata,     data, ota,     0xF000,   0x2000,
app0,        app,  ota_0,   0x10000,  0x1E0000,
app1,        app,  ota_1,   0x1F0000, 0x1E0000,
spiffs,      data, spiffs,  0x3D0000, 0x30000, 

ƒê√¢y l√† m·ªôt file ph√¢n v√πng (partitions.csv) d√†nh cho ESP32 s·ª≠ d·ª•ng OTA (Over-the-Air update) v√† SPIFFS, v·ªõi t·ªïng dung l∆∞·ª£ng flash l√† 4MB (0x400000).

‚úÖ Gi·∫£i th√≠ch t·ª´ng d√≤ng:
T√™n ph√¢n v√πng	Lo·∫°i (Type)	SubType	Offset	K√≠ch th∆∞·ªõc (Size)	Gi·∫£i th√≠ch
nvs	data	nvs	0x9000	0x6000 (24KB)	Non-Volatile Storage ‚Äî n∆°i l∆∞u c·∫•u h√¨nh WiFi, th√¥ng s·ªë h·ªá th·ªëng
otadata	data	ota	0xF000	0x2000 (8KB)	ESP-IDF d√πng ƒë·ªÉ l∆∞u tr·∫°ng th√°i OTA (firmware hi·ªán t·∫°i l√† app0 hay app1)
app0	app	ota_0	0x10000	0x1E0000 (~1.875MB)	Firmware ch√≠nh (slot 0)
app1	app	ota_1	0x1F0000	0x1E0000 (~1.875MB)	Firmware OTA (slot 1) d√πng ƒë·ªÉ c·∫≠p nh·∫≠t
spiffs	data	spiffs	0x3D0000	0x30000 (192KB)	B·ªô nh·ªõ file h·ªá th·ªëng (SPIFFS), d√πng ƒë·ªÉ l∆∞u d·ªØ li·ªáu ng∆∞·ªùi d√πng nh∆∞ c·∫•u h√¨nh, ·∫£nh, v.v.

üìä T·ªïng c·ªông dung l∆∞·ª£ng:
nvs: 0x6000 = 24KB
otadata: 0x2000 = 8KB
app0: 0x1E0000 = 1.875MB
app1: 0x1E0000 = 1.875MB
spiffs: 0x30000 = 192KB
‚Üí T·ªïng = 0x400000 = 4MB

üîÑ C√°ch ho·∫°t ƒë·ªông OTA:
Khi b·∫°n c·∫≠p nh·∫≠t firmware OTA, ESP32 ghi b·∫£n m·ªõi v√†o app1.
Sau khi ghi xong v√† ki·ªÉm tra th√†nh c√¥ng, n√≥ ghi tr·∫°ng th√°i v√†o otadata ƒë·ªÉ boot v√†o app1.
N·∫øu c·∫≠p nh·∫≠t l·ªói, n√≥ v·∫´n boot v√†o app0 nh∆∞ c≈©.
B·∫°n c√≥ th·ªÉ lu√¢n phi√™n d√πng app0 v√† app1.

‚ö†Ô∏è N·∫øu b·∫°n kh√¥ng d√πng OTA, b·∫°n kh√¥ng c·∫ßn:
otadata
app1

V√† c√≥ th·ªÉ g·ªôp th√†nh m·ªôt ph√¢n v√πng factory l·ªõn h∆°n. M√¨nh ƒë√£ g·ª≠i v√≠ d·ª• ·ªü c√¢u tr∆∞·ªõc, nh∆∞ng c√≥ th·ªÉ t·∫°o l·∫°i theo y√™u c·∫ßu.

